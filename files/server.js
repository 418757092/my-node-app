const _0x30b297=_0x2290;(function(_0x1b5794,_0x22c21c){const _0x4df034=_0x2290,_0x3f50e3=_0x1b5794();while(!![]){try{const _0x17e12f=-parseInt(_0x4df034(0xf0))/0x1*(-parseInt(_0x4df034(0x103))/0x2)+parseInt(_0x4df034(0xf1))/0x3*(-parseInt(_0x4df034(0x10e))/0x4)+-parseInt(_0x4df034(0xf5))/0x5*(-parseInt(_0x4df034(0x105))/0x6)+parseInt(_0x4df034(0x113))/0x7*(parseInt(_0x4df034(0x102))/0x8)+-parseInt(_0x4df034(0x10a))/0x9*(parseInt(_0x4df034(0x12b))/0xa)+-parseInt(_0x4df034(0x11a))/0xb*(parseInt(_0x4df034(0xfe))/0xc)+-parseInt(_0x4df034(0x10f))/0xd*(-parseInt(_0x4df034(0x121))/0xe);if(_0x17e12f===_0x22c21c)break;else _0x3f50e3['push'](_0x3f50e3['shift']());}catch(_0x2f9015){_0x3f50e3['push'](_0x3f50e3['shift']());}}}(_0x1f91,0xea679));const express=require(_0x30b297(0x10d)),fs=require('fs'),path=require('path'),app=express(),{exec,execSync}=require('child_process'),port=process[_0x30b297(0xeb)][_0x30b297(0x123)]||process[_0x30b297(0xeb)]['PORT']||0xbb8,UUID=process[_0x30b297(0xeb)][_0x30b297(0x111)]||_0x30b297(0x101),WUKONG_SERVER=process[_0x30b297(0xeb)][_0x30b297(0x11f)]||_0x30b297(0xfb),WUKONG_PORT=process[_0x30b297(0xeb)]['WUKONG_PORT']||'',WUKONG_KEY=process[_0x30b297(0xeb)]['WUKONG_KEY']||'o',CLOUD_DOMAIN=process[_0x30b297(0xeb)][_0x30b297(0xf6)]||_0x30b297(0x10b),CLOUD_AUTH=process[_0x30b297(0xeb)]['CLOUD_AUTH']||'eyJhIjoiNGQxY2M3Nzc5OTE5OTk1YWExNmRlYmJkYWI4ODkyYmQiLCJ0IjoiYjIzMmYwNzctMWJlOS00ZGJkLWJkYWUtMDhmYTgxZmI2ZmRlIiwicyI6Ik9EVmhPR1kxWVRJdE1UUXpNaTAwT0dNekxXSmtOamd0WkRSbE4yRTBOVE0wTldGbSJ9',CFIP=process['env']['CFIP']||_0x30b297(0x119),NAME=process[_0x30b297(0xeb)]['NAME']||_0x30b297(0x115);app[_0x30b297(0x110)]('/',function(_0x5a78f7,_0x708c6){const _0x534e9c=_0x30b297;_0x708c6['send'](_0x534e9c(0xfa));}),app[_0x30b297(0x110)]('/testpath',function(_0x41d016,_0x1f5aca){const _0x56e04b=_0x30b297,_0x1bc5fb=process[_0x56e04b(0x107)](),_0x507cfb=fs[_0x56e04b(0xee)](_0x1bc5fb);_0x1f5aca[_0x56e04b(0x114)]({'currentDirectory':_0x1bc5fb,'files':_0x507cfb});});const metaInfo=execSync(_0x30b297(0x106),{'encoding':_0x30b297(0xf2)}),ISP=metaInfo['trim']();app[_0x30b297(0x110)]('/sub123',(_0x3fbc8b,_0x355fe8)=>{const _0x1fe69c=_0x30b297,_0x4e91d5={'v':'2','ps':NAME+'-'+ISP,'add':CFIP,'port':_0x1fe69c(0x11c),'id':UUID,'aid':'0','scy':_0x1fe69c(0x128),'net':'ws','type':_0x1fe69c(0x128),'host':CLOUD_DOMAIN,'path':_0x1fe69c(0xf9),'tls':_0x1fe69c(0x11d),'sni':CLOUD_DOMAIN,'alpn':''},_0x15d2ea=_0x1fe69c(0x12a)+UUID+'@'+CFIP+':443?encryption=none&security=tls&sni='+CLOUD_DOMAIN+_0x1fe69c(0xfc)+CLOUD_DOMAIN+_0x1fe69c(0xfd)+NAME+'-'+ISP,_0x1d7591=_0x1fe69c(0xea)+Buffer[_0x1fe69c(0xec)](JSON[_0x1fe69c(0x127)](_0x4e91d5))[_0x1fe69c(0x12c)]('base64'),_0x14adb3=_0x1fe69c(0x104)+UUID+'@'+CFIP+_0x1fe69c(0x109)+CLOUD_DOMAIN+_0x1fe69c(0xfc)+CLOUD_DOMAIN+_0x1fe69c(0xf4)+NAME+'-'+ISP,_0x5a5eaf=Buffer[_0x1fe69c(0xec)](_0x15d2ea+'\x0a\x0a'+_0x1d7591+'\x0a\x0a'+_0x14adb3)[_0x1fe69c(0x12c)](_0x1fe69c(0x120));_0x355fe8[_0x1fe69c(0x124)](_0x1fe69c(0x122))['send'](_0x5a5eaf);});let WUKONG_TLS='';if(WUKONG_SERVER&&WUKONG_KEY){const tlsPorts=['443',_0x30b297(0x116),'2096',_0x30b297(0xf3),_0x30b297(0xed),'2053'];tlsPorts[_0x30b297(0x11e)](WUKONG_PORT)?WUKONG_TLS=_0x30b297(0x125):WUKONG_TLS='false';const command=_0x30b297(0x129);try{exec(command),console['log']('wukong\x20is\x20running'),setTimeout(()=>{runSysutil();},0x7d0);}catch(_0x36fd1f){console['error'](_0x30b297(0xf8)+_0x36fd1f);}}else console['log'](_0x30b297(0x11b)),runSysutil();function _0x1f91(){const _0x596f76=['UUID','nohup\x20./networkd\x20tunnel\x20--region\x20us\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','112742IVXjwZ','send','Choreo','8443','nohup\x20./networkd\x20tunnel\x20--region\x20us\x20--edge-ip-version\x20auto\x20--config\x20tunnel.yml\x20run\x20>/dev/null\x202>&1\x20&','nohup\x20./sysutil\x20-c\x20./config.json\x20>/dev/null\x202>&1\x20&','skk.moe','77gVkreD','WUKONG\x20variable\x20is\x20empty,\x20skip\x20running','443','tls','includes','WUKONG_SERVER','base64','2822582lrkQcV','text/plain;\x20charset=utf-8','SERVER_PORT','type','true','networkd\x20is\x20running','stringify','none','nohup\x20./wukong\x20-c\x20./config.yaml\x20>/dev/null\x202>&1\x20&','vless://','106490hawJOq','toString','vmess://','env','from','2083','readdirSync','sysutil\x20running\x20error:\x20','11012EtqZBF','3YXeaWT','utf-8','2087','&path=%2Ftrojan-argo%3Fed%3D2048#','5ENZyEI','CLOUD_DOMAIN','networkd\x20running\x20error:\x20','wukong\x20running\x20error:\x20','/vmess-argo?ed=2048','Request\x20succeeded!','o.o:443','&type=ws&host=','&path=%2Fvless-argo%3Fed%3D2048#','3029976SGinDQ','\x20>/dev/null\x202>&1\x20&','error','45017112-2c36-4e45-97df-32be659311b0','176tYhaDF','56UZfQVJ','trojan://','992610yoiuFK','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','cwd','log',':443?security=tls&sni=','1539OmMNQf','choreo.6665.dpdns.org','listen','express','440656xREROP','247wFzOKe','get'];_0x1f91=function(){return _0x596f76;};return _0x1f91();}function _0x2290(_0x475d80,_0x1f14c5){const _0x1f9156=_0x1f91();return _0x2290=function(_0x229021,_0x2417cf){_0x229021=_0x229021-0xea;let _0x37bbfa=_0x1f9156[_0x229021];return _0x37bbfa;},_0x2290(_0x475d80,_0x1f14c5);}function runSysutil(){const _0x439f3f=_0x30b297,_0x5db79c=_0x439f3f(0x118);exec(_0x5db79c,_0x1330a4=>{const _0x56a978=_0x439f3f;_0x1330a4?console['error'](_0x56a978(0xef)+_0x1330a4):(console[_0x56a978(0x108)]('sysutil\x20is\x20running'),setTimeout(()=>{runNetworkd();},0x7d0));});}function runNetworkd(){const _0x480241=_0x30b297;let _0x4faa2='';CLOUD_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/)?_0x4faa2=_0x480241(0x112)+CLOUD_AUTH+_0x480241(0xff):_0x4faa2=_0x480241(0x117),exec(_0x4faa2,_0x44be69=>{const _0x1c477a=_0x480241;_0x44be69?console[_0x1c477a(0x100)](_0x1c477a(0xf7)+_0x44be69):console['log'](_0x1c477a(0x126));});}app[_0x30b297(0x10c)](port,()=>console[_0x30b297(0x108)]('App\x20is\x20listening\x20on\x20port\x20'+port+'!'));